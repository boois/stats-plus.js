(function(h,g){"object"===typeof exports&&"undefined"!==typeof module?module.exports=g():"function"===typeof define&&define.amd?define(g):(h=h||self,h.Stats=g())})(this,function(){var h=function(g,n){function l(a){c.appendChild(a.dom);return a}function p(a){for(var d=0;d<c.children.length;d++)c.children[d].style.display=d===a?"block":"none";t=a}this.scene=g;this.renderer=n;var t=0,c=document.createElement("div");c.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000";
c.addEventListener("click",function(a){a.preventDefault();p(++t%c.children.length)},!1);g=document.createElement("div");g.style.cssText="min-width:150px;display:flex;flex-direction:column;background:#111;border:1px solid #222;color:#fff;font-size:12px;padding:4px;";n="<div>FPS: <span id='-stats-i-0' style='color: #ff6600;'></span></div><div>RAM: <span id='-stats-i-1'></span></div>";this.scene&&(n+="<div>vertices: <span id='-stats-i-2'></span></div><div>objects: <span id='-stats-i-5'></span></div><div>faces: <span id='-stats-i-4'></span></div>");
this.renderer&&(n+="<div>drawcalls: <span id='-stats-i-3'></span></div>");g.innerHTML=n;c.appendChild(g);var a=(performance||Date).now(),q=a,k=0,v=l(new h.Panel("FPS","#0ff","#002")),u=l(new h.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var m=l(new h.Panel("MB","#f08","#201"));p(0);var f=this,e={REVISION:16,frames:0,dom:c,memory:0,addPanel:l,showPanel:p,begin:function(){a=(performance||Date).now()},end:function(){k++;var c=(performance||Date).now();u.update(c-a,200);if(c>=
q+1E3){e.frames=1E3*k/(c-q);v.update(e.frames,100);q=c;k=0;var d=performance.memory,b=d.usedJSHeapSize/1048576;d=d.jsHeapSizeLimit/1048576;m&&m.update(b,d);e.memory=b;e.memoryLimit=d;document.getElementById("-stats-i-0").innerHTML=e.frames.toFixed(0);document.getElementById("-stats-i-1").innerHTML="<span style='color: #ff6600;'>"+e.memory.toFixed(2)+"Mb</span> ("+(e.memory/e.memoryLimit*100).toFixed(2)+"%)</span>";if(f.scene&&f.scene.children){b=f.scene.children.reduce(function(a,b){return b.geometry?
a+(b.geometry.attributes.position.count||0):a},0);d=f.scene.children.reduce(function(a,b){return b.geometry&&b.geometry.attributes&&b.geometry.attributes.position?a+b.geometry.attributes.position.count/3:a},0);var g=function(a){var b=0;a.traverse(function(a){b++});return b}(f.scene);document.getElementById("-stats-i-5").innerHTML="<span style='color: #ff6600;'>"+g.toFixed(0)+"</span>";document.getElementById("-stats-i-2").innerHTML="<span style='color: #ff6600;'>"+b.toFixed(0)+"</span>";document.getElementById("-stats-i-4").innerHTML=
"<span style='color: #ff6600;'>"+d.toFixed(0)+"</span>"}f.renderer&&(document.getElementById("-stats-i-3").innerHTML="<span style='color: #ff6600;'>"+f.renderer.info.render.calls+"</span>")}return c},update:function(){a=this.end()},domElement:c,setMode:p};return e};h.Panel=function(g,h,l){var p=Infinity,t=0,c=Math.round,a=c(window.devicePixelRatio||1),q=80*a,k=48*a,n=3*a,u=2*a,m=3*a,f=15*a,e=74*a,r=30*a,d=document.createElement("canvas");d.width=q;d.height=k;d.style.cssText="width:80px;height:48px";
var b=d.getContext("2d");b.font="bold "+9*a+"px Helvetica,Arial,sans-serif";b.textBaseline="top";b.fillStyle=l;b.fillRect(0,0,q,k);b.fillStyle=h;b.fillText(g,n,u);b.fillRect(m,f,e,r);b.fillStyle=l;b.globalAlpha=.9;b.fillRect(m,f,e,r);return{dom:d,update:function(k,v){p=Math.min(p,k);t=Math.max(t,k);b.fillStyle=l;b.globalAlpha=1;b.fillRect(0,0,q,f);b.fillStyle=h;b.fillText(c(k)+" "+g+" ("+c(p)+"-"+c(t)+")",n,u);b.drawImage(d,m+a,f,e-a,r,m,f,e-a,r);b.fillRect(m+e-a,f,a,r);b.fillStyle=l;b.globalAlpha=
.9;b.fillRect(m+e-a,f,a,c((1-k/v)*r))}}};return h});
